/* (c) 2016 Mathigon */
function Disk(num,width,height,fontSize,fontFace,dragHandler){this.num=num,this.width=width,this.height=height,this.fontSize=fontSize,this.fontFace=fontFace,this.dragHandler=dragHandler,this.tower=null}Disk.prototype.getNum=function(){return this.num},Disk.prototype.getTower=function(){return this.tower},Disk.prototype.setTower=function(tower){this.tower=tower},Disk.prototype.getElement=function(){return $("#HanoiDisk"+this.num)},Disk.prototype.getImageElement=function(){return $("#HanoiDiskImg"+this.num)},Disk.prototype.createElement=function(){return $("<canvas class='disk' id='HanoiDisk"+this.num+"' width='"+this.width+"' height='"+this.height+"' />")},Disk.prototype.createImageElement=function(){return $("<img id='HanoiDiskImg"+this.num+"' src='resources/Axioms_and_Proof/disk"+this.num+browser.imgExt+".png' />")},Disk.prototype.init=function(){this.draw(),this.setDraggable(!0)},Disk.prototype.draw=function(){this.getImageElement().load($.proxy(this.loadImage,this))},Disk.prototype.loadImage=function(event){var elem=this.getElement(),ctx=elem.get(0).getContext("2d"),img=$(event.target);ctx.drawImage(img.get(0),0,0,this.width,this.height),ctx.font=this.fontSize+"px "+this.fontFace},Disk.prototype.setDraggable=function(enabled){var elem=this.getElement();enabled?elem.draggable({drag:this.dragHandler}):elem.hasClass("ui-draggable")&&elem.draggable("destroy")},Disk.prototype.setDraggableRevert=function(enabled){this.getElement().draggable("option","revert",enabled)},Disk.prototype.position=function(){var elem=this.getElement(),top=this.tower.calcDiskTop(this.num,this.height),left=this.tower.calcDiskLeft(this.width);elem.css({position:"absolute",top:top,left:left})};